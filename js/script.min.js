"use strict";document.addEventListener("DOMContentLoaded",()=>{const t=document.querySelector(".education__img-wrap"),e=document.querySelector(".modal-overlay");function i(){e.classList.add("modal-overlay--show")}function s(){document.querySelector(".modal-content").remove(),e.classList.remove("modal-overlay--show")}t.onclick=function(t){let s=t.target;s.classList.contains("education__img--1")&&(i(),e.insertAdjacentHTML("afterEnd","<img class='modal-content' src='img/rastr/img-certificate-1-1080@1x.jpg' loading='lazy' alt='Certificate №1'>")),s.classList.contains("education__img--2")&&(i(),e.insertAdjacentHTML("afterEnd","<img class='modal-content' src='img/rastr/img-certificate-2-1080@1x.jpg' loading='lazy' alt='Certificate №1'>"))},document.onclick=function(t){t.target.classList.contains("modal-content")&&s()},e.addEventListener("click",(function(t){s()})),window.addEventListener("keydown",(function(t){27===t.keyCode&&s()}))}),document.addEventListener("DOMContentLoaded",()=>{const t=document.querySelector(".contact"),e=document.querySelector(".me"),i=document.querySelector(".contact__header-wrap"),s=document.querySelector(".me__header-wrap"),n=document.querySelector(".contact__header"),c=document.querySelector(".me__header"),a=document.querySelector(".contact__list-wrap"),o=document.querySelector(".me__list-wrap"),d=document.querySelector(".me__list"),l=document.querySelector(".glitch");function r(){n.innerHTML="BACK"}function m(){c.innerHTML="BACK"}e.addEventListener("mouseover",()=>{l.classList.remove("glitch")}),e.addEventListener("mouseout",()=>{l.classList.add("glitch")});const u=t=>{t.innerHTML="BACK"};function L(){n.innerHTML="CONTACT"}function _(){c.innerHTML="ME"}
/**!!!!!!==========*/function v(){s.classList.remove("me__header-wrap--width-0-50"),s.classList.add("me__header-wrap--width-50-0")}function h(){s.classList.remove("me__header-wrap--width-50-0"),s.classList.add("me__header-wrap--width-0-50")}const w=e.querySelector(".me__wrapper");function f(){w.classList.add("me__wrapper--show"),d.classList.add("me__list--border")}function k(){w.classList.remove("me__wrapper--show"),d.classList.remove("me__list--border")}function p(){y.classList.remove("me__link--active"),E.classList.remove("me__link--active"),T.classList.remove("me__link--active"),M.classList.remove("me__link--active"),S.pause(),H.pause()}i.addEventListener("click",(function(){!function(){if(t.classList.contains("contact--width-50-100")){t.classList.remove("contact--width-50-100"),t.classList.add("contact--width-100-50"),setTimeout((function(){t.classList.remove("contact--width-100-50")}),400),a.classList.remove("contact__list-wrap--width-0-50"),a.classList.add("contact__list-wrap--width-50-0"),setTimeout((function(){a.classList.remove("contact__list-wrap--width-50-0")}),400),L(),e.classList.remove("me--width-50-0"),e.style.display="",e.classList.add("me--width-0-50"),setTimeout((function(){e.classList.remove("me--width-0-50")}),400),i.classList.remove("active")}else{t.classList.add("contact--width-50-100"),a.classList.add("contact__list-wrap--width-0-50"),i.classList.add("active"),document.documentElement.clientWidth<960&&r(),e.classList.add("me--width-50-0"),setTimeout((function(){e.style.display="none"}),400)}}()})),i.addEventListener("mouseover",(function(){this.classList.contains("active")?r():L()})),i.addEventListener("mouseout",(function(){this.classList.contains("active")&&L()})),s.addEventListener("click",(function(){!function(){if(e.classList.contains("me--width-50-100")){e.classList.remove("me--width-50-100"),e.classList.add("me--width-100-50"),setTimeout((function(){e.classList.remove("me--width-100-50")}),400),o.classList.remove("me__list-wrap--width-0-50"),o.classList.add("me__list-wrap--width-50-0"),setTimeout((function(){o.classList.remove("me__list-wrap--width-50-0")}),400),_(),t.classList.remove("contact--width-50-0"),t.style.display="",t.classList.add("contact--width-0-50"),setTimeout((function(){t.classList.remove("contact--width-0-50")}),400),s.classList.remove("active"),s.classList.remove("me__header-wrap--width-0-50")}else{e.classList.add("me--width-50-100"),o.classList.add("me__list-wrap--width-0-50"),s.classList.add("active"),document.documentElement.clientWidth<960&&m(),t.classList.add("contact--width-50-0"),setTimeout((function(){t.style.display="none"}),400)}}()})),s.addEventListener("mouseover",(function(){this.classList.contains("active")?m():_()})),s.addEventListener("mouseout",(function(){this.classList.contains("active")&&_()}));const y=d.querySelector(".me__link--skills");y.addEventListener("click",(function(){"BACK"===this.innerHTML?(k(),h(),this.classList.remove("me__link--active"),this.innerHTML="SKILLS"):(v(),f(),p(),this.classList.add("me__link--active"),document.documentElement.clientWidth<960&&u(this))})),y.addEventListener("mouseover",(function(){!0===this.classList.contains("me__link--active")&&(this.innerHTML="BACK")})),y.addEventListener("mouseout",(function(){!0===this.classList.contains("me__link--active")&&(this.innerHTML="SKILLS")}));const E=d.querySelector(".me__link--card-list");E.addEventListener("click",(function(){"BACK"===this.innerHTML?(k(),h(),this.classList.remove("me__link--active"),this.innerHTML="WORK"):(v(),f(),p(),this.classList.add("me__link--active"),document.documentElement.clientWidth<960&&u(this))})),E.addEventListener("mouseover",(function(){!0===this.classList.contains("me__link--active")&&(this.innerHTML="BACK")})),E.addEventListener("mouseout",(function(){!0===this.classList.contains("me__link--active")&&(this.innerHTML="WORK")}));const T=d.querySelector(".me__link--edu");T.addEventListener("click",(function(){"BACK"===this.innerHTML?(k(),h(),this.classList.remove("me__link--active"),this.innerHTML="Education"):(v(),f(),p(),this.classList.add("me__link--active"),document.documentElement.clientWidth<960&&u(this))})),T.addEventListener("mouseover",(function(){!0===this.classList.contains("me__link--active")&&(this.innerHTML="BACK")})),T.addEventListener("mouseout",(function(){!0===this.classList.contains("me__link--active")&&(this.innerHTML="EDUCATION")}));const M=d.querySelector(".me__link--about"),S=document.querySelectorAll(".video__wrap")[0],H=document.querySelectorAll(".video__wrap")[1];M.addEventListener("click",(function(){"BACK"===this.innerHTML?(k(),h(),this.classList.remove("me__link--active"),S.pause(),H.pause(),this.innerHTML="About"):(v(),f(),p(),this.classList.add("me__link--active"),document.documentElement.clientWidth<960&&u(this))})),M.addEventListener("mouseover",(function(){!0===this.classList.contains("me__link--active")&&(this.innerHTML="BACK")})),M.addEventListener("mouseout",(function(){!0===this.classList.contains("me__link--active")&&(this.innerHTML="ABOUT")}))});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNjcmlwdC5taW4uanMiXSwibmFtZXMiOlsiZG9jdW1lbnQiLCJhZGRFdmVudExpc3RlbmVyIiwiZWR1SW1nV3JhcCIsInF1ZXJ5U2VsZWN0b3IiLCJtb2RhbE92ZXJsYXkiLCJzaG93TW9kYWwiLCJjbGFzc0xpc3QiLCJhZGQiLCJjbG9zZU1vZGFsIiwicmVtb3ZlIiwib25jbGljayIsImV2ZW50IiwidGFyZ2V0IiwiY29udGFpbnMiLCJpbnNlcnRBZGphY2VudEhUTUwiLCJ3aW5kb3ciLCJrZXlDb2RlIiwiY29udGFjdCIsIm1lIiwiY29udGFjdEhlYWRlcldyYXAiLCJtZUhlYWRlcldyYXAiLCJjb250YWN0SGVhZGVyIiwibWVIZWFkZXIiLCJjb250YWN0TGlzdFdyYXAiLCJtZUxpc3RXcmFwIiwibWVMaXN0IiwiZ2xpdGNoIiwiYWRkQmFja1JpZ2h0IiwiaW5uZXJIVE1MIiwiYWRkQmFja2xlZnQiLCJhZGRCYWNrIiwic2VsZiIsImFkZENvbnRhY3RSaWdodCIsImFkZE1lTGVmdCIsImhpZGVNZUhlYWRlcldyYXAiLCJzaG93TWVIZWFkZXJXcmFwIiwibWVXcmFwcGVyIiwic2hvd01lV3JhcHBlciIsImhpZGVNZVdyYXBwZXIiLCJyZW1vdmVBY3RpdmUiLCJtZUxpbmtTa2lsbHMiLCJtZUxpbmtDYXJkIiwibWVMaW5rRWR1IiwibWVMaW5rQWJvdXQiLCJ2aWRlbzEiLCJwYXVzZSIsInZpZGVvMiIsInNldFRpbWVvdXQiLCJzdHlsZSIsImRpc3BsYXkiLCJkb2N1bWVudEVsZW1lbnQiLCJjbGllbnRXaWR0aCIsImNsaWNrQ29udGFjdEhlYWRlcldyYXAiLCJ0aGlzIiwiY2xpY2tNZUhlYWRlcldyYXAiLCJxdWVyeVNlbGVjdG9yQWxsIl0sIm1hcHBpbmdzIjoiQUFBQSxhQUlBQSxTQUFTQyxpQkFBaUIsbUJBQW9CLEtBQzVDLE1BQU1DLEVBQWFGLFNBQVNHLGNBQWMsd0JBQ3hDQyxFQUFlSixTQUFTRyxjQUFjLGtCQUl4QyxTQUFTRSxJQUNQRCxFQUFh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ZW50IjpbIid1c2Ugc3RyaWN0JztcblxuLyoqPT09IHNjcmlwdCBtb2RhbC1pbm5lckhUTUwuanMgPT09Ki9cbi8qKj09PT09PT09PT09PT09PT09PT09PT09ICovXG5kb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdET01Db250ZW50TG9hZGVkJywgKCkgPT4ge1xuICBjb25zdCBlZHVJbWdXcmFwID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmVkdWNhdGlvbl9faW1nLXdyYXAnKSxcbiAgICBtb2RhbE92ZXJsYXkgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubW9kYWwtb3ZlcmxheScpO1xuXG5cbiAgLyoqPT09PT09PT09PT09PT09PT09PT09ICovXG4gIGZ1bmN0aW9uIHNob3dNb2RhbCgpIHtcbiAgICBtb2RhbE92ZXJsYXkuY2xhc3NMaXN0LmFkZCgnbW9kYWwtb3ZlcmxheS0tc2hvdycpO1xuICB9XG5cbiAgZnVuY3Rpb24gc2hvd01vZGFsQ29udGVudDEoKSB7XG4gICAgbW9kYWxPdmVybGF5Lmluc2VydEFkamFjZW50SFRNTCgnYWZ0ZXJFbmQnLCBcIjxpbWcgY2xhc3M9J21vZGFsLWNvbnRlbnQnIHNyYz0naW1nL3Jhc3RyL2ltZy1jZXJ0aWZpY2F0ZS0xLTEwODBAMXguanBnJyBsb2FkaW5nPSdsYXp5JyBhbHQ9J0NlcnRpZmljYXRlIOKEljEnPlwiKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHNob3dNb2RhbENvbnRlbnQyKCkge1xuICAgIG1vZGFsT3ZlcmxheS5pbnNlcnRBZGphY2VudEhUTUwoJ2FmdGVyRW5kJywgXCI8aW1nIGNsYXNzPSdtb2RhbC1jb250ZW50JyBzcmM9J2ltZy9yYXN0ci9pbWctY2VydGlmaWNhdGUtMi0xMDgwQDF4LmpwZycgbG9hZGluZz0nbGF6eScgYWx0PSdDZXJ0aWZpY2F0ZSDihJYxJz5cIik7XG4gIH1cblxuICBmdW5jdGlvbiBjbG9zZU1vZGFsKCkge1xuICAgIGNvbnN0IG1vZGFsQ29udGVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5tb2RhbC1jb250ZW50Jyk7XG4gICAgbW9kYWxDb250ZW50LnJlbW92ZSgpO1xuICAgIG1vZGFsT3ZlcmxheS5jbGFzc0xpc3QucmVtb3ZlKCdtb2RhbC1vdmVybGF5LS1zaG93Jyk7XG4gIH1cblxuXG4gIC8qPT09PT09PT09PT09PT09PT09PT09PT09PT09PT0qL1xuICAvKtCf0L7QutCw0LfQsNGC0Ywg0LzQvtC00LDQu9GM0L3QvtC1INC+0LrQvdC+OiovXG4gIC8q0YHQvtCx0YvRgtC40Y8g0L/QviDQutC70LjQutGDINC90LAgaW1nLXByZXZpZXcqL1xuICBlZHVJbWdXcmFwLm9uY2xpY2sgPSBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICBsZXQgdGFyZ2V0ID0gZXZlbnQudGFyZ2V0OyAvLyDQs9C00LUg0LHRi9C7INC60LvQuNC6P1xuXG4gICAgaWYgKHRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoJ2VkdWNhdGlvbl9faW1nLS0xJykpIHtcbiAgICAgIHNob3dNb2RhbCgpO1xuICAgICAgc2hvd01vZGFsQ29udGVudDEoKTtcbiAgICB9XG5cbiAgICBpZiAodGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucygnZWR1Y2F0aW9uX19pbWctLTInKSkge1xuICAgICAgc2hvd01vZGFsKCk7XG4gICAgICBzaG93TW9kYWxDb250ZW50MigpO1xuICAgIH1cbiAgfTtcblxuICAvKj09PT09PT09PT09PT09PT09PT09PT09PT09PT09Ki9cbiAgLyoxLdCX0LDQutGA0YvRgtGMINC80L7QtNCw0LvRjNC90L7QtSDQvtC60L3QvjoqL1xuICAvKtGB0L7QsdGL0YLQuNGPINC/0L4g0LrQu9C40LrRgyDQvdCwINC40LfQvtCx0YDQsNC20LXQvdC40LUqL1xuICBkb2N1bWVudC5vbmNsaWNrID0gZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgbGV0IHRhcmdldCA9IGV2ZW50LnRhcmdldDsgLy8g0LPQtNC1INCx0YvQuyDQutC70LjQuj9cblxuICAgIGlmICh0YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCdtb2RhbC1jb250ZW50JykpIHtcbiAgICAgIGNsb3NlTW9kYWwoKTtcbiAgICB9XG4gIH07XG5cbiAgLyoyLdCX0LDQutGA0YvRgtGMINC80L7QtNCw0LvRjNC90L7QtSDQvtC60L3QvjoqL1xuICAvKtGB0L7QsdGL0YLQuNGPINC/0L4g0LrQu9C40LrRgyDQvdCwINC30LDRgtC10L3QtdC90L3Ri9C5INGE0L7QvSovXG4gIG1vZGFsT3ZlcmxheS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgY2xvc2VNb2RhbCgpO1xuICB9KTtcblxuICAvKjMt0JfQsNC60YDRi9GC0Ywg0LzQvtC00LDQu9GM0L3QvtC1INC+0LrQvdC+OiovXG4gIC8q0YHQvtCx0YvRgtC40Y8g0L/QviDQvdCw0LbQsNGC0LjRjiBFU0MqL1xuICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwgZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgaWYgKGV2ZW50LmtleUNvZGUgPT09IDI3KSB7XG4gICAgICBjbG9zZU1vZGFsKCk7XG4gICAgfVxuICB9KTtcbn0pO1xuXG4ndXNlIHN0cmljdCc7XG5cbi8qKj09PSBzY3JpcHQgbW9kYWwtaW5uZXJIVE1MLmpzID09PSovXG5kb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdET01Db250ZW50TG9hZGVkJywgKCkgPT4ge1xuICBjb25zdCBjb250YWN0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmNvbnRhY3QnKSxcbiAgICBtZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5tZScpO1xuXG4gIGNvbnN0IGNvbnRhY3RIZWFkZXJXcmFwID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmNvbnRhY3RfX2hlYWRlci13cmFwJyksXG4gICAgbWVIZWFkZXJXcmFwID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm1lX19oZWFkZXItd3JhcCcpO1xuXG4gIGNvbnN0IGNvbnRhY3RIZWFkZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuY29udGFjdF9faGVhZGVyJyksXG4gICAgbWVIZWFkZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubWVfX2hlYWRlcicpO1xuXG4gIGNvbnN0IGNvbnRhY3RMaXN0V3JhcCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jb250YWN0X19saXN0LXdyYXAnKSxcbiAgICBtZUxpc3RXcmFwID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm1lX19saXN0LXdyYXAnKTtcblxuICBjb25zdCBtZUxpc3QgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubWVfX2xpc3QnKTtcblxuXG4gIC8qKj09PT09PT09PT09PT09PT09PT09PT09ICovXG4gIC8q0JTQvtCx0LDQstC40YLRjC/Rg9Cx0YDQsNGC0YwgR0xJVENIINC/0L4gaG92ZXIg0L3QsCBNRSovXG4gIGNvbnN0IGdsaXRjaCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5nbGl0Y2gnKTtcbiAgbWUuYWRkRXZlbnRMaXN0ZW5lcignbW91c2VvdmVyJywgKCkgPT4ge1xuICAgIGdsaXRjaC5jbGFzc0xpc3QucmVtb3ZlKCdnbGl0Y2gnKTtcbiAgfSk7XG4gIG1lLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlb3V0JywgKCkgPT4ge1xuICAgIGdsaXRjaC5jbGFzc0xpc3QuYWRkKCdnbGl0Y2gnKTtcbiAgfSk7XG5cblxuICAvKio9PT09PT09PT09PT09PT09PT09PT09PSAqL1xuICAvKj09PdCk0KPQndCa0KbQmNCYKi9cblxuICBmdW5jdGlvbiBhZGRCYWNrUmlnaHQoKSB7XG4gICAgY29udGFjdEhlYWRlci5pbm5lckhUTUwgPSBcIkJBQ0tcIjtcbiAgfVxuXG4gIGZ1bmN0aW9uIGFkZEJhY2tsZWZ0KCkge1xuICAgIG1lSGVhZGVyLmlubmVySFRNTCA9IFwiQkFDS1wiO1xuICB9XG5cbiAgLyrQpNCj0J3QmtCm0JjQryDQt9Cw0LzQtdC90LjRgtGMINGB0L7QtNC10YDQttC40LzQvtC1INC90LAgQkFDSyovXG4gIGNvbnN0IGFkZEJhY2sgPSAoc2VsZikgPT4ge1xuICAgIHNlbGYuaW5uZXJIVE1MID0gXCJCQUNLXCI7XG4gIH07XG5cbiAgZnVuY3Rpb24gYWRkQ29udGFjdFJpZ2h0KCkge1xuICAgIGNvbnRhY3RIZWFkZXIuaW5uZXJIVE1MID0gXCJDT05UQUNUXCI7XG4gIH1cblxuICBmdW5jdGlvbiBhZGRNZUxlZnQoKSB7XG4gICAgbWVIZWFkZXIuaW5uZXJIVE1MID0gXCJNRVwiO1xuICB9XG5cbiAgLyoqISEhISEhPT09PT09PT09PSovXG4gIC8q0KTQo9Cd0JrQptCY0K8g0YHQutGA0YvRgtGMIC5tZV9faGVhZGVyLXdyYXAqL1xuICBmdW5jdGlvbiBoaWRlTWVIZWFkZXJXcmFwKCkge1xuICAgIG1lSGVhZGVyV3JhcC5jbGFzc0xpc3QucmVtb3ZlKCdtZV9faGVhZGVyLXdyYXAtLXdpZHRoLTAtNTAnKTtcbiAgICBtZUhlYWRlcldyYXAuY2xhc3NMaXN0LmFkZCgnbWVfX2hlYWRlci13cmFwLS13aWR0aC01MC0wJyk7XG4gIH1cblxuICAvKtCk0KPQndCa0KbQmNCvINC/0L7QutCw0LfQsNGC0YwgLm1lX19oZWFkZXItd3JhcCovXG4gIGZ1bmN0aW9uIHNob3dNZUhlYWRlcldyYXAoKSB7XG4gICAgbWVIZWFkZXJXcmFwLmNsYXNzTGlzdC5yZW1vdmUoJ21lX19oZWFkZXItd3JhcC0td2lkdGgtNTAtMCcpO1xuICAgIG1lSGVhZGVyV3JhcC5jbGFzc0xpc3QuYWRkKCdtZV9faGVhZGVyLXdyYXAtLXdpZHRoLTAtNTAnKTtcbiAgfVxuXG4gIC8q0KTQo9Cd0JrQptCY0K8g0L/QvtC60LDQt9Cw0YLRjCAubWVfX3dyYXBwZXIqL1xuICBjb25zdCBtZVdyYXBwZXIgPSBtZS5xdWVyeVNlbGVjdG9yKCcubWVfX3dyYXBwZXInKTtcbiAgZnVuY3Rpb24gc2hvd01lV3JhcHBlcigpIHtcbiAgICBtZVdyYXBwZXIuY2xhc3NMaXN0LmFkZCgnbWVfX3dyYXBwZXItLXNob3cnKTsgLy/Qv9C+0LrQsNC30LDRgtGMIC5tZV9fd3JhcHBlclxuICAgIG1lTGlzdC5jbGFzc0xpc3QuYWRkKCdtZV9fbGlzdC0tYm9yZGVyJyk7IC8vINC40LfQvNC10L3QuNGC0YwgYm9yZGVyXG4gIH1cblxuICAvKtCk0KPQndCa0KbQmNCvINGB0LrRgNGL0YLRjCAubWVfX3dyYXBwZXIqL1xuICBmdW5jdGlvbiBoaWRlTWVXcmFwcGVyKCkge1xuICAgIG1lV3JhcHBlci5jbGFzc0xpc3QucmVtb3ZlKCdtZV9fd3JhcHBlci0tc2hvdycpOyAvL9GB0LrRgNGL0YLRjCAubWVfX3dyYXBwZXJcbiAgICBtZUxpc3QuY2xhc3NMaXN0LnJlbW92ZSgnbWVfX2xpc3QtLWJvcmRlcicpOyAvLyDQuNC30LzQtdC90LjRgtGMIGJvcmRlciDQsiDQv9C10YDQstC+0L3QsNGH0LDQu9GM0L3QvtC1INGB0L7RgdGC0L7Rj9C90LjQtVxuICB9XG5cblxuICAvKtCk0KPQndCa0KbQmNCvINGD0LTQsNC70LjRgtGMIC5tZV9fbGluay0t0YXRhdGFKi9cbiAgZnVuY3Rpb24gcmVtb3ZlQWN0aXZlKCkge1xuICAgIG1lTGlua1NraWxscy5jbGFzc0xpc3QucmVtb3ZlKCdtZV9fbGluay0tYWN0aXZlJyk7IC8v0YPQtNCw0LvQuNGC0YwgLm1lX19saW5rLS1hY3RpdmUg0LTQu9GPIFNraWxsc1xuICAgIG1lTGlua0NhcmQuY2xhc3NMaXN0LnJlbW92ZSgnbWVfX2xpbmstLWFjdGl2ZScpOyAvL9GD0LTQsNC70LjRgtGMIC5tZV9fbGluay0tYWN0aXZlINC00LvRjyBDYXJkXG4gICAgbWVMaW5rRWR1LmNsYXNzTGlzdC5yZW1vdmUoJ21lX19saW5rLS1hY3RpdmUnKTsgLy/Rg9C00LDQu9C40YLRjCAubWVfX2xpbmstLWFjdGl2ZSDQtNC70Y8gRWR1XG4gICAgbWVMaW5rQWJvdXQuY2xhc3NMaXN0LnJlbW92ZSgnbWVfX2xpbmstLWFjdGl2ZScpOyAvL9GD0LTQsNC70LjRgtGMIC5tZV9fbGluay0tYWN0aXZlINC00LvRjyBBYm91dFxuICAgIHZpZGVvMS5wYXVzZSgpO1xuICAgIHZpZGVvMi5wYXVzZSgpO1xuICB9XG5cbiAgLyrQpNCj0J3QmtCm0JjQryDQutC70LjQuiDQvdCwIENPTlRBQ1QqL1xuICBmdW5jdGlvbiBjbGlja0NvbnRhY3RIZWFkZXJXcmFwKCkge1xuICAgIGlmIChjb250YWN0LmNsYXNzTGlzdC5jb250YWlucygnY29udGFjdC0td2lkdGgtNTAtMTAwJykpIHtcbiAgICAgIC8vINGD0LzQtdC90YzRiNC40YLRjCDRiNC40YDQuNC90YMgLmNvbnRhY3RcbiAgICAgIGNvbnRhY3QuY2xhc3NMaXN0LnJlbW92ZSgnY29udGFjdC0td2lkdGgtNTAtMTAwJyk7XG4gICAgICBjb250YWN0LmNsYXNzTGlzdC5hZGQoJ2NvbnRhY3QtLXdpZHRoLTEwMC01MCcpO1xuICAgICAgZnVuY3Rpb24gcmVtb3ZlQ29udGFjdFdpZHRoXzEwMF81MCgpIHtcbiAgICAgICAgY29udGFjdC5jbGFzc0xpc3QucmVtb3ZlKCdjb250YWN0LS13aWR0aC0xMDAtNTAnKTtcbiAgICAgIH1cbiAgICAgIHNldFRpbWVvdXQocmVtb3ZlQ29udGFjdFdpZHRoXzEwMF81MCwgNDAwKTtcblxuICAgICAgLy8g0YPQvNC10L3RjNGI0LjRgtGMINGI0LjRgNC40L3RgyAuY29udGFjdF9fbGlzdC13cmFwXG4gICAgICBjb250YWN0TGlzdFdyYXAuY2xhc3NMaXN0LnJlbW92ZSgnY29udGFjdF9fbGlzdC13cmFwLS13aWR0aC0wLTUwJyk7XG4gICAgICBjb250YWN0TGlzdFdyYXAuY2xhc3NMaXN0LmFkZCgnY29udGFjdF9fbGlzdC13cmFwLS13aWR0aC01MC0wJyk7XG4gICAgICBmdW5jdGlvbiByZW1vdmVDb250YWN0TGlzdFdyYXBfNTBfMCgpIHtcbiAgICAgICAgY29udGFjdExpc3RXcmFwLmNsYXNzTGlzdC5yZW1vdmUoJ2NvbnRhY3RfX2xpc3Qtd3JhcC0td2lkdGgtNTAtMCcpO1xuICAgICAgfVxuICAgICAgc2V0VGltZW91dChyZW1vdmVDb250YWN0TGlzdFdyYXBfNTBfMCwgNDAwKTtcblxuICAgICAgLy8g0LjQt9C80LXQvdC40YLRjCAg0YHQvtC00LXRgNC20LjQvNC+0LUgLmNvbnRhY3RfX2hlYWRlclxuICAgICAgYWRkQ29udGFjdFJpZ2h0KCk7XG5cbiAgICAgIC8vINGD0LLQtdC70LjRh9C40YLRjCDRiNC40YDQuNC90YMgLm1lXG4gICAgICBtZS5jbGFzc0xpc3QucmVtb3ZlKCdtZS0td2lkdGgtNTAtMCcpXG4gICAgICBtZS5zdHlsZS5kaXNwbGF5ID0gXCJcIjtcbiAgICAgIG1lLmNsYXNzTGlzdC5hZGQoJ21lLS13aWR0aC0wLTUwJyk7XG4gICAgICBmdW5jdGlvbiByZW1vdmVNZVdpZHRoXzBfNTAoKSB7XG4gICAgICAgIG1lLmNsYXNzTGlzdC5yZW1vdmUoJ21lLS13aWR0aC0wLTUwJyk7XG4gICAgICB9XG4gICAgICBzZXRUaW1lb3V0KHJlbW92ZU1lV2lkdGhfMF81MCwgNDAwKTtcblxuICAgICAgLy8g0Lgg0YPQtNCw0LvQuNGC0YwgLmFjdGl2ZVxuICAgICAgY29udGFjdEhlYWRlcldyYXAuY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJyk7XG5cbiAgICB9IGVsc2Uge1xuICAgICAgY29udGFjdC5jbGFzc0xpc3QuYWRkKCdjb250YWN0LS13aWR0aC01MC0xMDAnKTtcbiAgICAgIGNvbnRhY3RMaXN0V3JhcC5jbGFzc0xpc3QuYWRkKCdjb250YWN0X19saXN0LXdyYXAtLXdpZHRoLTAtNTAnKTtcbiAgICAgIGNvbnRhY3RIZWFkZXJXcmFwLmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZScpO1xuICAgICAgaWYgKGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRXaWR0aCA8IDk2MCkge1xuICAgICAgICBhZGRCYWNrUmlnaHQoKTtcbiAgICAgIH1cblxuICAgICAgbWUuY2xhc3NMaXN0LmFkZCgnbWUtLXdpZHRoLTUwLTAnKTtcbiAgICAgIGZ1bmN0aW9uIGFkZE1lRGlzcGxheU5vbmUoKSB7XG4gICAgICAgIG1lLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcbiAgICAgIH1cbiAgICAgIHNldFRpbWVvdXQoYWRkTWVEaXNwbGF5Tm9uZSwgNDAwKTtcbiAgICB9XG4gIH1cblxuICAvKtCk0KPQndCa0KbQmNCvINC60LvQuNC6INC90LAgTUUqL1xuICBmdW5jdGlvbiBjbGlja01lSGVhZGVyV3JhcCgpIHtcbiAgICBpZiAobWUuY2xhc3NMaXN0LmNvbnRhaW5zKCdtZS0td2lkdGgtNTAtMTAwJykpIHtcbiAgICAgIC8v0YPQvNC10L3RjNGI0LjRgtGMINGI0LjRgNC40L3RgyAubWVcbiAgICAgIG1lLmNsYXNzTGlzdC5yZW1vdmUoJ21lLS13aWR0aC01MC0xMDAnKTtcbiAgICAgIG1lLmNsYXNzTGlzdC5hZGQoJ21lLS13aWR0aC0xMDAtNTAnKTtcbiAgICAgIGZ1bmN0aW9uIHJlbW92ZU1lV2lkdGhfMTAwXzUwKCkge1xuICAgICAgICBtZS5jbGFzc0xpc3QucmVtb3ZlKCdtZS0td2lkdGgtMTAwLTUwJyk7XG4gICAgICB9XG4gICAgICBzZXRUaW1lb3V0KHJlbW92ZU1lV2lkdGhfMTAwXzUwLCA0MDApO1xuXG4gICAgICAvLyDRg9C80LXQvdGM0YjQuNGC0Ywg0YjQuNGA0LjQvdGDIC5tZV9fbGlzdC13cmFwXG4gICAgICBtZUxpc3RXcmFwLmNsYXNzTGlzdC5yZW1vdmUoJ21lX19saXN0LXdyYXAtLXdpZHRoLTAtNTAnKTtcbiAgICAgIG1lTGlzdFdyYXAuY2xhc3NMaXN0LmFkZCgnbWVfX2xpc3Qtd3JhcC0td2lkdGgtNTAtMCcpO1xuICAgICAgZnVuY3Rpb24gcmVtb3ZlTWVMaXN0V3JhcF81MF8wKCkge1xuICAgICAgICBtZUxpc3RXcmFwLmNsYXNzTGlzdC5yZW1vdmUoJ21lX19saXN0LXdyYXAtLXdpZHRoLTUwLTAnKTtcbiAgICAgIH1cbiAgICAgIHNldFRpbWVvdXQocmVtb3ZlTWVMaXN0V3JhcF81MF8wLCA0MDApO1xuXG4gICAgICAvLyDQuNC30LzQtdC90LjRgtGMICDRgdC+0LTQtdGA0LbQuNC80L7QtSAuY29udGFjdF9faGVhZGVyXG4gICAgICBhZGRNZUxlZnQoKTtcblxuICAgICAgLy8g0YPQstC10LvQuNGH0LjRgtGMINGI0LjRgNC40L3RgyAuY29udGFjdFxuICAgICAgY29udGFjdC5jbGFzc0xpc3QucmVtb3ZlKCdjb250YWN0LS13aWR0aC01MC0wJyk7XG4gICAgICBjb250YWN0LnN0eWxlLmRpc3BsYXkgPSBcIlwiO1xuICAgICAgY29udGFjdC5jbGFzc0xpc3QuYWRkKCdjb250YWN0LS13aWR0aC0wLTUwJyk7XG4gICAgICBmdW5jdGlvbiByZW1vdmVDb250YWN0V2lkdGhfMF81MCgpIHtcbiAgICAgICAgY29udGFjdC5jbGFzc0xpc3QucmVtb3ZlKCdjb250YWN0LS13aWR0aC0wLTUwJyk7XG4gICAgICB9XG4gICAgICBzZXRUaW1lb3V0KHJlbW92ZUNvbnRhY3RXaWR0aF8wXzUwLCA0MDApO1xuXG4gICAgICAvLyDRg9C00LDQu9C40YLRjCAuYWN0aXZlINC4INC80L7QtNC40YTQuNC60LDRgtC+0YAgJi0td2lkdGgtMC01MFxuICAgICAgbWVIZWFkZXJXcmFwLmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpO1xuICAgICAgbWVIZWFkZXJXcmFwLmNsYXNzTGlzdC5yZW1vdmUoJ21lX19oZWFkZXItd3JhcC0td2lkdGgtMC01MCcpO1xuXG4gICAgfSBlbHNlIHtcbiAgICAgIG1lLmNsYXNzTGlzdC5hZGQoJ21lLS13aWR0aC01MC0xMDAnKTtcbiAgICAgIG1lTGlzdFdyYXAuY2xhc3NMaXN0LmFkZCgnbWVfX2xpc3Qtd3JhcC0td2lkdGgtMC01MCcpO1xuICAgICAgbWVIZWFkZXJXcmFwLmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZScpO1xuICAgICAgaWYgKGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRXaWR0aCA8IDk2MCkge1xuICAgICAgICBhZGRCYWNrbGVmdCgpO1xuICAgICAgfVxuXG4gICAgICBjb250YWN0LmNsYXNzTGlzdC5hZGQoJ2NvbnRhY3QtLXdpZHRoLTUwLTAnKTtcbiAgICAgIGZ1bmN0aW9uIGFkZENvbnRhY3REaXNwbGF5Tm9uZSgpIHtcbiAgICAgICAgY29udGFjdC5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XG4gICAgICB9XG4gICAgICBzZXRUaW1lb3V0KGFkZENvbnRhY3REaXNwbGF5Tm9uZSwgNDAwKTtcbiAgICB9XG4gIH1cblxuICAvKio9PT09PT09PT09PT09PT09PT09PT09PSAqL1xuICAvKj09PdCh0J7QkdCr0KLQmNCVIC0g0LrQu9C40Log0L3QsCBDT05UQUNUICguY29udGFjdF9faGVhZGVyLXdyYXApKi9cbiAgY29udGFjdEhlYWRlcldyYXAuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbiAoKSB7XG4gICAgY2xpY2tDb250YWN0SGVhZGVyV3JhcCgpO1xuICB9KTtcblxuICBjb250YWN0SGVhZGVyV3JhcC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZW92ZXInLCBmdW5jdGlvbiAoKSB7XG4gICAgaWYgKHRoaXMuY2xhc3NMaXN0LmNvbnRhaW5zKCdhY3RpdmUnKSkge1xuICAgICAgYWRkQmFja1JpZ2h0KCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGFkZENvbnRhY3RSaWdodCgpO1xuICAgIH1cbiAgfSk7XG5cbiAgY29udGFjdEhlYWRlcldyYXAuYWRkRXZlbnRMaXN0ZW5lcignbW91c2VvdXQnLCBmdW5jdGlvbiAoKSB7XG4gICAgaWYgKHRoaXMuY2xhc3NMaXN0LmNvbnRhaW5zKCdhY3RpdmUnKSkge1xuICAgICAgYWRkQ29udGFjdFJpZ2h0KCk7XG4gICAgfVxuICB9KTtcblxuICAvKio9PT09PT09PT09PT09PT09PT09PT09PSAqL1xuICAvKj09PdCh0J7QkdCr0KLQmNCVIC0g0LrQu9C40Log0L3QsCBNRSovXG4gIG1lSGVhZGVyV3JhcC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcbiAgICBjbGlja01lSGVhZGVyV3JhcCgpO1xuICB9KTtcblxuICBtZUhlYWRlcldyYXAuYWRkRXZlbnRMaXN0ZW5lcignbW91c2VvdmVyJywgZnVuY3Rpb24gKCkge1xuICAgIGlmICh0aGlzLmNsYXNzTGlzdC5jb250YWlucygnYWN0aXZlJykpIHtcbiAgICAgIGFkZEJhY2tsZWZ0KCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGFkZE1lTGVmdCgpO1xuICAgIH1cbiAgfSk7XG5cbiAgbWVIZWFkZXJXcmFwLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlb3V0JywgZnVuY3Rpb24gKCkge1xuICAgIGlmICh0aGlzLmNsYXNzTGlzdC5jb250YWlucygnYWN0aXZlJykpIHtcbiAgICAgIGFkZE1lTGVmdCgpO1xuICAgIH1cbiAgfSk7XG5cblxuICAvKio9PT09PT09PT09PT09PT09PT09PT09PSAqL1xuICAvKj09PdCh0J7QkdCr0KLQmNCVIC0g0LrQu9C40Log0L3QsCAubWVfX2xpbmstLXNraWxscyovXG4gIGNvbnN0IG1lTGlua1NraWxscyA9IG1lTGlzdC5xdWVyeVNlbGVjdG9yKCcubWVfX2xpbmstLXNraWxscycpO1xuXG4gIG1lTGlua1NraWxscy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcbiAgICBpZiAodGhpcy5pbm5lckhUTUwgPT09ICdCQUNLJykge1xuICAgICAgaGlkZU1lV3JhcHBlcigpO1xuICAgICAgc2hvd01lSGVhZGVyV3JhcCgpO1xuICAgICAgdGhpcy5jbGFzc0xpc3QucmVtb3ZlKCdtZV9fbGluay0tYWN0aXZlJyk7IC8v0YPQtNCw0LvQuNGC0YwgLm1lX19saW5rLS1hY3RpdmVcbiAgICAgIHRoaXMuaW5uZXJIVE1MID0gJ1NLSUxMUyc7IC8v0LjQt9C80LXQvdC40YLRjCBCQUNLINC90LAgU0tJTExTXG4gICAgfSBlbHNlIHtcbiAgICAgIGhpZGVNZUhlYWRlcldyYXAoKTtcbiAgICAgIHNob3dNZVdyYXBwZXIoKTtcblxuICAgICAgcmVtb3ZlQWN0aXZlKCk7XG4gICAgICB0aGlzLmNsYXNzTGlzdC5hZGQoJ21lX19saW5rLS1hY3RpdmUnKTsgLy/QtNC+0LHQsNCy0LjRgtGMIC5tZV9fbGluay0tYWN0aXZlXG5cbiAgICAgIC8v0LTQu9GPICRtb2Itd2lkdGgg0LjQt9C80LXQvdC40YLRjCDRgdC+0LTQtdGA0LbQuNC80L7QtSDQvdCwIEJBQ0tcbiAgICAgIGlmIChkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50V2lkdGggPCA5NjApIHtcbiAgICAgICAgYWRkQmFjayh0aGlzKTtcbiAgICAgIH1cbiAgICB9XG4gIH0pO1xuXG4gIC8v0LjQt9C80LXQvdC40YLRjCDRgdC+0LTQtdGA0LbQuNC80L7QtSDQvdCwIEJBQ0tcbiAgbWVMaW5rU2tpbGxzLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlb3ZlcicsIGZ1bmN0aW9uICgpIHtcbiAgICBpZiAodGhpcy5jbGFzc0xpc3QuY29udGFpbnMoJ21lX19saW5rLS1hY3RpdmUnKSA9PT0gdHJ1ZSkge1xuICAgICAgdGhpcy5pbm5lckhUTUwgPSBcIkJBQ0tcIjtcbiAgICB9XG4gIH0pO1xuXG4gIC8v0LjQt9C80LXQvdC40YLRjCDRgdC+0LTQtdGA0LbQuNC80L7QtSDQvdCwIFNLSUxMU1xuICBtZUxpbmtTa2lsbHMuYWRkRXZlbnRMaXN0ZW5lcignbW91c2VvdXQnLCBmdW5jdGlvbiAoKSB7XG4gICAgaWYgKHRoaXMuY2xhc3NMaXN0LmNvbnRhaW5zKCdtZV9fbGluay0tYWN0aXZlJykgPT09IHRydWUpIHtcbiAgICAgIHRoaXMuaW5uZXJIVE1MID0gXCJTS0lMTFNcIjtcbiAgICB9XG4gIH0pO1xuXG4gIC8qKj09PT09PT09PT09PT09PT09PT09PT09ICovXG4gIC8qPT090LrQu9C40Log0L3QsCAubWVfX2xpbmstLWNhcmQtbGlzdCovXG4gIGNvbnN0IG1lTGlua0NhcmQgPSBtZUxpc3QucXVlcnlTZWxlY3RvcignLm1lX19saW5rLS1jYXJkLWxpc3QnKTtcblxuICBtZUxpbmtDYXJkLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xuICAgIGlmICh0aGlzLmlubmVySFRNTCA9PT0gJ0JBQ0snKSB7XG4gICAgICBoaWRlTWVXcmFwcGVyKCk7XG4gICAgICBzaG93TWVIZWFkZXJXcmFwKCk7XG4gICAgICB0aGlzLmNsYXNzTGlzdC5yZW1vdmUoJ21lX19saW5rLS1hY3RpdmUnKTsgLy/Rg9C00LDQu9C40YLRjCAubWVfX2xpbmstLWFjdGl2ZVxuICAgICAgdGhpcy5pbm5lckhUTUwgPSAnV09SSyc7IC8v0LjQt9C80LXQvdC40YLRjCBCQUNLINC90LAgV29ya1xuICAgIH0gZWxzZSB7XG4gICAgICBoaWRlTWVIZWFkZXJXcmFwKCk7XG4gICAgICBzaG93TWVXcmFwcGVyKCk7XG5cbiAgICAgIHJlbW92ZUFjdGl2ZSgpO1xuICAgICAgdGhpcy5jbGFzc0xpc3QuYWRkKCdtZV9fbGluay0tYWN0aXZlJyk7IC8v0LTQvtCx0LDQstC40YLRjCAubWVfX2xpbmstLWFjdGl2ZVxuXG4gICAgICAvL9C00LvRjyAkbW9iLXdpZHRoINC40LfQvNC10L3QuNGC0Ywg0YHQvtC00LXRgNC20LjQvNC+0LUg0L3QsCBCQUNLXG4gICAgICBpZiAoZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudFdpZHRoIDwgOTYwKSB7XG4gICAgICAgIGFkZEJhY2sodGhpcyk7XG4gICAgICB9XG4gICAgfVxuICB9KTtcblxuICAvL9C40LfQvNC10L3QuNGC0Ywg0YHQvtC00LXRgNC20LjQvNC+0LUg0L3QsCBCQUNLXG4gIG1lTGlua0NhcmQuYWRkRXZlbnRMaXN0ZW5lcignbW91c2VvdmVyJywgZnVuY3Rpb24gKCkge1xuICAgIGlmICh0aGlzLmNsYXNzTGlzdC5jb250YWlucygnbWVfX2xpbmstLWFjdGl2ZScpID09PSB0cnVlKSB7XG4gICAgICB0aGlzLmlubmVySFRNTCA9IFwiQkFDS1wiO1xuICAgIH1cbiAgfSk7XG5cbiAgLy/QuNC30LzQtdC90LjRgtGMINGB0L7QtNC10YDQttC40LzQvtC1INC90LAgUE9SVEZJTElPXG4gIG1lTGlua0NhcmQuYWRkRXZlbnRMaXN0ZW5lcignbW91c2VvdXQnLCBmdW5jdGlvbiAoKSB7XG4gICAgaWYgKHRoaXMuY2xhc3NMaXN0LmNvbnRhaW5zKCdtZV9fbGluay0tYWN0aXZlJykgPT09IHRydWUpIHtcbiAgICAgIHRoaXMuaW5uZXJIVE1MID0gXCJXT1JLXCI7XG4gICAgfVxuICB9KTtcblxuICAvKio9PT09PT09PT09PT09PT09PT09PT09PSAqL1xuICAvKj09PdC60LvQuNC6INC90LAgLm1lX19saW5rLS1lZHUqL1xuICBjb25zdCBtZUxpbmtFZHUgPSBtZUxpc3QucXVlcnlTZWxlY3RvcignLm1lX19saW5rLS1lZHUnKTtcblxuICBtZUxpbmtFZHUuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbiAoKSB7XG4gICAgaWYgKHRoaXMuaW5uZXJIVE1MID09PSAnQkFDSycpIHtcbiAgICAgIGhpZGVNZVdyYXBwZXIoKTtcbiAgICAgIHNob3dNZUhlYWRlcldyYXAoKTtcbiAgICAgIHRoaXMuY2xhc3NMaXN0LnJlbW92ZSgnbWVfX2xpbmstLWFjdGl2ZScpOyAvL9GD0LTQsNC70LjRgtGMIC5tZV9fbGluay0tYWN0aXZlXG4gICAgICB0aGlzLmlubmVySFRNTCA9ICdFZHVjYXRpb24nOyAvL9C40LfQvNC10L3QuNGC0YwgQkFDSyDQvdCwIEVkdWNhdGlvblxuICAgIH0gZWxzZSB7XG4gICAgICBoaWRlTWVIZWFkZXJXcmFwKCk7XG4gICAgICBzaG93TWVXcmFwcGVyKCk7XG5cbiAgICAgIHJlbW92ZUFjdGl2ZSgpO1xuICAgICAgdGhpcy5jbGFzc0xpc3QuYWRkKCdtZV9fbGluay0tYWN0aXZlJyk7IC8v0LTQvtCx0LDQstC40YLRjCAubWVfX2xpbmstLWFjdGl2ZVxuXG4gICAgICAvL9C00LvRjyAkbW9iLXdpZHRoINC40LfQvNC10L3QuNGC0Ywg0YHQvtC00LXRgNC20LjQvNC+0LUg0L3QsCBCQUNLXG4gICAgICBpZiAoZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudFdpZHRoIDwgOTYwKSB7XG4gICAgICAgIGFkZEJhY2sodGhpcyk7XG4gICAgICB9XG4gICAgfVxuICB9KTtcblxuICAvL9C40LfQvNC10L3QuNGC0Ywg0YHQvtC00LXRgNC20LjQvNC+0LUg0L3QsCBCQUNLXG4gIG1lTGlua0VkdS5hZGRFdmVudExpc3RlbmVyKCdtb3VzZW92ZXInLCBmdW5jdGlvbiAoKSB7XG4gICAgaWYgKHRoaXMuY2xhc3NMaXN0LmNvbnRhaW5zKCdtZV9fbGluay0tYWN0aXZlJykgPT09IHRydWUpIHtcbiAgICAgIHRoaXMuaW5uZXJIVE1MID0gXCJCQUNLXCI7XG4gICAgfVxuICB9KTtcblxuICAvL9C40LfQvNC10L3QuNGC0Ywg0YHQvtC00LXRgNC20LjQvNC+0LUg0L3QsCBFRFVDQVRJT05cbiAgbWVMaW5rRWR1LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlb3V0JywgZnVuY3Rpb24gKCkge1xuICAgIGlmICh0aGlzLmNsYXNzTGlzdC5jb250YWlucygnbWVfX2xpbmstLWFjdGl2ZScpID09PSB0cnVlKSB7XG4gICAgICB0aGlzLmlubmVySFRNTCA9IFwiRURVQ0FUSU9OXCI7XG4gICAgfVxuICB9KTtcblxuICAvKio9PT09PT09PT09PT09PT09PT09PT09PSAqL1xuICAvKj09PdC60LvQuNC6INC90LAgLm1lX19saW5rLS1hYm91dCovXG4gIGNvbnN0IG1lTGlua0Fib3V0ID0gbWVMaXN0LnF1ZXJ5U2VsZWN0b3IoJy5tZV9fbGluay0tYWJvdXQnKSxcbiAgICB2aWRlbzEgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcudmlkZW9fX3dyYXAnKVswXSxcbiAgICB2aWRlbzIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcudmlkZW9fX3dyYXAnKVsxXTtcblxuICBtZUxpbmtBYm91dC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcbiAgICBpZiAodGhpcy5pbm5lckhUTUwgPT09ICdCQUNLJykge1xuICAgICAgaGlkZU1lV3JhcHBlcigpO1xuICAgICAgc2hvd01lSGVhZGVyV3JhcCgpO1xuICAgICAgdGhpcy5jbGFzc0xpc3QucmVtb3ZlKCdtZV9fbGluay0tYWN0aXZlJyk7IC8v0YPQtNCw0LvQuNGC0YwgLm1lX19saW5rLS1hY3RpdmVcbiAgICAgIHZpZGVvMS5wYXVzZSgpO1xuICAgICAgdmlkZW8yLnBhdXNlKCk7XG5cbiAgICAgIHRoaXMuaW5uZXJIVE1MID0gJ0Fib3V0JzsgLy/QuNC30LzQtdC90LjRgtGMIEJBQ0sg0L3QsCBBQk9VVFxuICAgIH0gZWxzZSB7XG4gICAgICBoaWRlTWVIZWFkZXJXcmFwKCk7XG4gICAgICBzaG93TWVXcmFwcGVyKCk7XG4gICAgICByZW1vdmVBY3RpdmUoKTtcbiAgICAgIHRoaXMuY2xhc3NMaXN0LmFkZCgnbWVfX2xpbmstLWFjdGl2ZScpOyAvL9C00L7QsdCw0LLQuNGC0YwgLm1lX19saW5rLS1hY3RpdmVcblxuICAgICAgLy/QtNC70Y8gJG1vYi13aWR0aCDQuNC30LzQtdC90LjRgtGMINGB0L7QtNC10YDQttC40LzQvtC1INC90LAgQkFDS1xuICAgICAgaWYgKGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRXaWR0aCA8IDk2MCkge1xuICAgICAgICBhZGRCYWNrKHRoaXMpO1xuICAgICAgfVxuICAgIH1cbiAgfSk7XG5cbiAgLy/QuNC30LzQtdC90LjRgtGMINGB0L7QtNC10YDQttC40LzQvtC1INC90LAgQkFDS1xuICBtZUxpbmtBYm91dC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZW92ZXInLCBmdW5jdGlvbiAoKSB7XG4gICAgaWYgKHRoaXMuY2xhc3NMaXN0LmNvbnRhaW5zKCdtZV9fbGluay0tYWN0aXZlJykgPT09IHRydWUpIHtcbiAgICAgIHRoaXMuaW5uZXJIVE1MID0gXCJCQUNLXCI7XG4gICAgfVxuICB9KTtcblxuICAvL9C40LfQvNC10L3QuNGC0Ywg0YHQvtC00LXRgNC20LjQvNC+0LUg0L3QsCBBQk9VVFxuICBtZUxpbmtBYm91dC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZW91dCcsIGZ1bmN0aW9uICgpIHtcbiAgICBpZiAodGhpcy5jbGFzc0xpc3QuY29udGFpbnMoJ21lX19saW5rLS1hY3RpdmUnKSA9PT0gdHJ1ZSkge1xuICAgICAgdGhpcy5pbm5lckhUTUwgPSBcIkFCT1VUXCI7XG4gICAgfVxuICB9KTtcbn0pO1xuIl19
