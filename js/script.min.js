let eduImgWrap=document.querySelector(".education__img-wrap"),modalOverlay=document.querySelector(".modal-overlay");function showModal(){modalOverlay.classList.add("modal-overlay--show")}function showModalContent1(){modalOverlay.insertAdjacentHTML("afterEnd","<img class='modal-content' src='img/rastr/img-certificate-1-1080@1x.jpg' loading='lazy' alt='Certificate №1'>")}function showModalContent2(){modalOverlay.insertAdjacentHTML("afterEnd","<img class='modal-content' src='img/rastr/img-certificate-2-1080@1x.jpg' loading='lazy' alt='Certificate №1'>")}function closeModal(){document.querySelector(".modal-content").remove(),modalOverlay.classList.remove("modal-overlay--show")}eduImgWrap.onclick=function(e){let t=e.target;t.classList.contains("education__img--1")&&(showModal(),showModalContent1()),t.classList.contains("education__img--2")&&(showModal(),showModalContent2())},document.onclick=function(e){e.target.classList.contains("modal-content")&&closeModal()},modalOverlay.addEventListener("click",(function(e){closeModal()})),window.addEventListener("keydown",(function(e){27===e.keyCode&&closeModal()}));let contact=document.querySelector(".contact"),me=document.querySelector(".me"),contactHeaderWrap=document.querySelector(".contact__header-wrap"),meHeaderWrap=document.querySelector(".me__header-wrap"),contactHeader=document.querySelector(".contact__header"),meHeader=document.querySelector(".me__header"),contactListWrap=document.querySelector(".contact__list-wrap"),meListWrap=document.querySelector(".me__list-wrap"),meList=document.querySelector(".me__list");function addBackRight(){contactHeader.innerHTML="BACK"}function addBackleft(){meHeader.innerHTML="BACK"}let addBack=e=>{e.innerHTML="BACK"};function addContactRight(){contactHeader.innerHTML="CONTACT"}function addMeLeft(){meHeader.innerHTML="ME"}
/**!!!!!!==========*/
function hideMeHeaderWrap(){meHeaderWrap.classList.remove("me__header-wrap--width-0-50"),meHeaderWrap.classList.add("me__header-wrap--width-50-0")}function showMeHeaderWrap(){meHeaderWrap.classList.remove("me__header-wrap--width-50-0"),meHeaderWrap.classList.add("me__header-wrap--width-0-50")}let meWrapper=me.querySelector(".me__wrapper");function showMeWrapper(){meWrapper.classList.add("me__wrapper--show"),meList.classList.add("me__list--border")}function hideMeWrapper(){meWrapper.classList.remove("me__wrapper--show"),meList.classList.remove("me__list--border")}function removeActive(){meLinkSkills.classList.remove("me__link--active"),meLinkCard.classList.remove("me__link--active"),meLinkEdu.classList.remove("me__link--active")}function clickContactHeaderWrap(){if(contact.classList.contains("contact--width-50-100")){contact.classList.remove("contact--width-50-100"),contact.classList.add("contact--width-100-50"),setTimeout((function(){contact.classList.remove("contact--width-100-50")}),400),contactListWrap.classList.remove("contact__list-wrap--width-0-50"),contactListWrap.classList.add("contact__list-wrap--width-50-0"),setTimeout((function(){contactListWrap.classList.remove("contact__list-wrap--width-50-0")}),400),addContactRight(),me.classList.remove("me--width-50-0"),me.style.display="",me.classList.add("me--width-0-50"),setTimeout((function(){me.classList.remove("me--width-0-50")}),400),contactHeaderWrap.classList.remove("active")}else{contact.classList.add("contact--width-50-100"),contactListWrap.classList.add("contact__list-wrap--width-0-50"),contactHeaderWrap.classList.add("active"),document.documentElement.clientWidth<960&&addBackRight(),me.classList.add("me--width-50-0"),setTimeout((function(){me.style.display="none"}),400)}}function clickMeHeaderWrap(){if(me.classList.contains("me--width-50-100")){me.classList.remove("me--width-50-100"),me.classList.add("me--width-100-50"),setTimeout((function(){me.classList.remove("me--width-100-50")}),400),meListWrap.classList.remove("me__list-wrap--width-0-50"),meListWrap.classList.add("me__list-wrap--width-50-0"),setTimeout((function(){meListWrap.classList.remove("me__list-wrap--width-50-0")}),400),addMeLeft(),contact.classList.remove("contact--width-50-0"),contact.style.display="",contact.classList.add("contact--width-0-50"),setTimeout((function(){contact.classList.remove("contact--width-0-50")}),400),meHeaderWrap.classList.remove("active"),meHeaderWrap.classList.remove("me__header-wrap--width-0-50")}else{me.classList.add("me--width-50-100"),meListWrap.classList.add("me__list-wrap--width-0-50"),meHeaderWrap.classList.add("active"),document.documentElement.clientWidth<960&&addBackleft(),contact.classList.add("contact--width-50-0"),setTimeout((function(){contact.style.display="none"}),400)}}contactHeaderWrap.addEventListener("click",(function(){clickContactHeaderWrap()})),contactHeaderWrap.addEventListener("mouseover",(function(){this.classList.contains("active")?addBackRight():addContactRight()})),contactHeaderWrap.addEventListener("mouseout",(function(){this.classList.contains("active")&&addContactRight()})),meHeaderWrap.addEventListener("click",(function(){clickMeHeaderWrap()})),meHeaderWrap.addEventListener("mouseover",(function(){this.classList.contains("active")?addBackleft():addMeLeft()})),meHeaderWrap.addEventListener("mouseout",(function(){this.classList.contains("active")&&addMeLeft()}));let meLinkSkills=meList.querySelector(".me__link--skills");meLinkSkills.addEventListener("click",(function(){"BACK"===this.innerHTML?(hideMeWrapper(),showMeHeaderWrap(),this.classList.remove("me__link--active"),this.innerHTML="SKILLS"):(hideMeHeaderWrap(),showMeWrapper(),removeActive(),this.classList.add("me__link--active"),document.documentElement.clientWidth<960&&addBack(this))})),meLinkSkills.addEventListener("mouseover",(function(){!0===this.classList.contains("me__link--active")&&(this.innerHTML="BACK")})),meLinkSkills.addEventListener("mouseout",(function(){!0===this.classList.contains("me__link--active")&&(this.innerHTML="SKILLS")}));let meLinkCard=meList.querySelector(".me__link--card-list");meLinkCard.addEventListener("click",(function(){"BACK"===this.innerHTML?(hideMeWrapper(),showMeHeaderWrap(),this.classList.remove("me__link--active"),this.innerHTML="WORK"):(hideMeHeaderWrap(),showMeWrapper(),removeActive(),this.classList.add("me__link--active"),document.documentElement.clientWidth<960&&addBack(this))})),meLinkCard.addEventListener("mouseover",(function(){!0===this.classList.contains("me__link--active")&&(this.innerHTML="BACK")})),meLinkCard.addEventListener("mouseout",(function(){!0===this.classList.contains("me__link--active")&&(this.innerHTML="WORK")}));let meLinkEdu=meList.querySelector(".me__link--edu");meLinkEdu.addEventListener("click",(function(){"BACK"===this.innerHTML?(hideMeWrapper(),showMeHeaderWrap(),this.classList.remove("me__link--active"),this.innerHTML="Education"):(hideMeHeaderWrap(),showMeWrapper(),removeActive(),this.classList.add("me__link--active"),document.documentElement.clientWidth<960&&addBack(this))})),meLinkEdu.addEventListener("mouseover",(function(){!0===this.classList.contains("me__link--active")&&(this.innerHTML="BACK")})),meLinkEdu.addEventListener("mouseout",(function(){!0===this.classList.contains("me__link--active")&&(this.innerHTML="EDUCATION")}));
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNjcmlwdC5taW4uanMiXSwibmFtZXMiOlsiZWR1SW1nV3JhcCIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvciIsIm1vZGFsT3ZlcmxheSIsInNob3dNb2RhbCIsImNsYXNzTGlzdCIsImFkZCIsInNob3dNb2RhbENvbnRlbnQxIiwiaW5zZXJ0QWRqYWNlbnRIVE1MIiwic2hvd01vZGFsQ29udGVudDIiLCJjbG9zZU1vZGFsIiwicmVtb3ZlIiwib25jbGljayIsImV2ZW50IiwidGFyZ2V0IiwiY29udGFpbnMiLCJhZGRFdmVudExpc3RlbmVyIiwid2luZG93Iiwia2V5Q29kZSIsImNvbnRhY3QiLCJtZSIsImNvbnRhY3RIZWFkZXJXcmFwIiwibWVIZWFkZXJXcmFwIiwiY29udGFjdEhlYWRlciIsIm1lSGVhZGVyIiwiY29udGFjdExpc3RXcmFwIiwibWVMaXN0V3JhcCIsIm1lTGlzdCIsImFkZEJhY2tSaWdodCIsImlubmVySFRNTCIsImFkZEJhY2tsZWZ0IiwiYWRkQmFjayIsInNlbGYiLCJhZGRDb250YWN0UmlnaHQiLCJhZGRNZUxlZnQiLCJoaWRlTWVIZWFkZXJXcmFwIiwic2hvd01lSGVhZGVyV3JhcCIsIm1lV3JhcHBlciIsInNob3dNZVdyYXBwZXIiLCJoaWRlTWVXcmFwcGVyIiwicmVtb3ZlQWN0aXZlIiwibWVMaW5rU2tpbGxzIiwibWVMaW5rQ2FyZCIsIm1lTGlua0VkdSIsImNsaWNrQ29udGFjdEhlYWRlcldyYXAiLCJzZXRUaW1lb3V0Iiwic3R5bGUiLCJkaXNwbGF5IiwiZG9jdW1lbnRFbGVtZW50IiwiY2xpZW50V2lkdGgiLCJjbGlja01lSGVhZGVyV3JhcCIsInRoaXMiXSwibWFwcGluZ3MiOiJBQUdBLElBQUlBLFdBQWFDLFNBQVNDLGNBQWMsd0JBQ3BDQyxhQUFlRixTQUFTQyxjQUFjLGtCQUkxQyxTQUFTRSxZQUNQRCxhQUFhRSxVQUFVQyxJQUFJLHVCQUc3QixTQUFTQyxvQkFDUEosYUFBYUssbUJBQW1CLFdBQVksaUhBRzlDLFNB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QUksb0JBR2hCTCxTQUFTK0MsZ0JBQWdCQyxZQUFjLEtBQzFDbEIsUUFBUW9CLFVBTVpSLFVBQVUzQixpQkFBaUIsYUFBYSxZQUNjLElBQWhEbUMsS0FBSzlDLFVBQVVVLFNBQVMsc0JBQzFCb0MsS0FBS3RCLFVBQVksV0FLckJjLFVBQVUzQixpQkFBaUIsWUFBWSxZQUNlLElBQWhEbUMsS0FBSzlDLFVBQVVVLFNBQVMsc0JBQzFCb0MsS0FBS3RCLFVBQVkiLCJmaWxlIjoic2NyaXB0Lm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qKj09PSBzY3JpcHQgbW9kYWwtaW5uZXJIVE1MLmpzID09PSovXG5cbi8qKj09PT09PT09PT09PT09PT09PT09PT09ICovXG5sZXQgZWR1SW1nV3JhcCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5lZHVjYXRpb25fX2ltZy13cmFwJyk7XG5sZXQgbW9kYWxPdmVybGF5ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm1vZGFsLW92ZXJsYXknKTtcblxuXG4vKio9PT09PT09PT09PT09PT09PT09PT0gKi9cbmZ1bmN0aW9uIHNob3dNb2RhbCgpIHtcbiAgbW9kYWxPdmVybGF5LmNsYXNzTGlzdC5hZGQoJ21vZGFsLW92ZXJsYXktLXNob3cnKTtcbn1cblxuZnVuY3Rpb24gc2hvd01vZGFsQ29udGVudDEoKSB7XG4gIG1vZGFsT3ZlcmxheS5pbnNlcnRBZGphY2VudEhUTUwoJ2FmdGVyRW5kJywgXCI8aW1nIGNsYXNzPSdtb2RhbC1jb250ZW50JyBzcmM9J2ltZy9yYXN0ci9pbWctY2VydGlmaWNhdGUtMS0xMDgwQDF4LmpwZycgbG9hZGluZz0nbGF6eScgYWx0PSdDZXJ0aWZpY2F0ZSDihJYxJz5cIik7XG59XG5cbmZ1bmN0aW9uIHNob3dNb2RhbENvbnRlbnQyKCkge1xuICBtb2RhbE92ZXJsYXkuaW5zZXJ0QWRqYWNlbnRIVE1MKCdhZnRlckVuZCcsIFwiPGltZyBjbGFzcz0nbW9kYWwtY29udGVudCcgc3JjPSdpbWcvcmFzdHIvaW1nLWNlcnRpZmljYXRlLTItMTA4MEAxeC5qcGcnIGxvYWRpbmc9J2xhenknIGFsdD0nQ2VydGlmaWNhdGUg4oSWMSc+XCIpO1xufVxuXG5mdW5jdGlvbiBjbG9zZU1vZGFsKCkge1xuICBsZXQgbW9kYWxDb250ZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm1vZGFsLWNvbnRlbnQnKTtcbiAgbW9kYWxDb250ZW50LnJlbW92ZSgpO1xuICBtb2RhbE92ZXJsYXkuY2xhc3NMaXN0LnJlbW92ZSgnbW9kYWwtb3ZlcmxheS0tc2hvdycpO1xufVxuXG5cbi8qPT09PT09PT09PT09PT09PT09PT09PT09PT09PT0qL1xuLyrQn9C+0LrQsNC30LDRgtGMINC80L7QtNCw0LvRjNC90L7QtSDQvtC60L3QvjoqL1xuLyrRgdC+0LHRi9GC0LjRjyDQv9C+INC60LvQuNC60YMg0L3QsCBpbWctcHJldmlldyovXG5lZHVJbWdXcmFwLm9uY2xpY2sgPSBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgbGV0IHRhcmdldCA9IGV2ZW50LnRhcmdldDsgLy8g0LPQtNC1INCx0YvQuyDQutC70LjQuj9cblxuICBpZiAodGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucygnZWR1Y2F0aW9uX19pbWctLTEnKSkge1xuICAgIHNob3dNb2RhbCgpO1xuICAgIHNob3dNb2RhbENvbnRlbnQxKCk7XG4gIH1cblxuICBpZiAodGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucygnZWR1Y2F0aW9uX19pbWctLTInKSkge1xuICAgIHNob3dNb2RhbCgpO1xuICAgIHNob3dNb2RhbENvbnRlbnQyKCk7XG4gIH1cbn07XG5cbi8qPT09PT09PT09PT09PT09PT09PT09PT09PT09PT0qL1xuLyoxLdCX0LDQutGA0YvRgtGMINC80L7QtNCw0LvRjNC90L7QtSDQvtC60L3QvjoqL1xuLyrRgdC+0LHRi9GC0LjRjyDQv9C+INC60LvQuNC60YMg0L3QsCDQuNC30L7QsdGA0LDQttC10L3QuNC1Ki9cbmRvY3VtZW50Lm9uY2xpY2sgPSBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgbGV0IHRhcmdldCA9IGV2ZW50LnRhcmdldDsgLy8g0LPQtNC1INCx0YvQuyDQutC70LjQuj9cblxuICBpZiAodGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucygnbW9kYWwtY29udGVudCcpKSB7XG4gICAgY2xvc2VNb2RhbCgpO1xuICB9XG59O1xuXG4vKjIt0JfQsNC60YDRi9GC0Ywg0LzQvtC00LDQu9GM0L3QvtC1INC+0LrQvdC+OiovXG4vKtGB0L7QsdGL0YLQuNGPINC/0L4g0LrQu9C40LrRgyDQvdCwINC30LDRgtC10L3QtdC90L3Ri9C5INGE0L7QvSovXG5tb2RhbE92ZXJsYXkuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGZ1bmN0aW9uIChldmVudCkge1xuICBjbG9zZU1vZGFsKCk7XG59KTtcblxuLyozLdCX0LDQutGA0YvRgtGMINC80L7QtNCw0LvRjNC90L7QtSDQvtC60L3QvjoqL1xuLyrRgdC+0LHRi9GC0LjRjyDQv9C+INC90LDQttCw0YLQuNGOIEVTQyovXG53aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwgZnVuY3Rpb24gKGV2ZW50KSB7XG4gIGlmIChldmVudC5rZXlDb2RlID09PSAyNykge1xuICAgIGNsb3NlTW9kYWwoKTtcbiAgfVxufSk7XG5cblxuXCJ1c2Ugc3RyaWN0XCI7XG5cbmxldCBjb250YWN0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmNvbnRhY3QnKTtcbmxldCBtZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5tZScpO1xuXG5sZXQgY29udGFjdEhlYWRlcldyYXAgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuY29udGFjdF9faGVhZGVyLXdyYXAnKTtcbmxldCBtZUhlYWRlcldyYXAgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubWVfX2hlYWRlci13cmFwJyk7XG5cbmxldCBjb250YWN0SGVhZGVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmNvbnRhY3RfX2hlYWRlcicpO1xubGV0IG1lSGVhZGVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm1lX19oZWFkZXInKTtcblxubGV0IGNvbnRhY3RMaXN0V3JhcCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jb250YWN0X19saXN0LXdyYXAnKTtcbmxldCBtZUxpc3RXcmFwID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm1lX19saXN0LXdyYXAnKTtcblxubGV0IG1lTGlzdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5tZV9fbGlzdCcpO1xuXG5cbi8qKj09PT09PT09PT09PT09PT09PT09PT09ICovXG4vKj09PdCk0KPQndCa0KbQmNCYKi9cblxuZnVuY3Rpb24gYWRkQmFja1JpZ2h0KCkge1xuICBjb250YWN0SGVhZGVyLmlubmVySFRNTCA9IFwiQkFDS1wiO1xufTtcblxuZnVuY3Rpb24gYWRkQmFja2xlZnQoKSB7XG4gIG1lSGVhZGVyLmlubmVySFRNTCA9IFwiQkFDS1wiO1xufTtcblxuLyrQpNCj0J3QmtCm0JjQryDQt9Cw0LzQtdC90LjRgtGMINGB0L7QtNC10YDQttC40LzQvtC1INC90LAgQkFDSyovXG5sZXQgYWRkQmFjayA9IChzZWxmKSA9PiB7XG4gIHNlbGYuaW5uZXJIVE1MID0gXCJCQUNLXCI7XG59O1xuXG5mdW5jdGlvbiBhZGRDb250YWN0UmlnaHQoKSB7XG4gIGNvbnRhY3RIZWFkZXIuaW5uZXJIVE1MID0gXCJDT05UQUNUXCI7XG59O1xuXG5mdW5jdGlvbiBhZGRNZUxlZnQoKSB7XG4gIG1lSGVhZGVyLmlubmVySFRNTCA9IFwiTUVcIjtcbn07XG5cbi8qKiEhISEhIT09PT09PT09PT0qL1xuLyrQpNCj0J3QmtCm0JjQryDRgdC60YDRi9GC0YwgLm1lX19oZWFkZXItd3JhcCovXG5mdW5jdGlvbiBoaWRlTWVIZWFkZXJXcmFwKCkge1xuICBtZUhlYWRlcldyYXAuY2xhc3NMaXN0LnJlbW92ZSgnbWVfX2hlYWRlci13cmFwLS13aWR0aC0wLTUwJyk7XG4gIG1lSGVhZGVyV3JhcC5jbGFzc0xpc3QuYWRkKCdtZV9faGVhZGVyLXdyYXAtLXdpZHRoLTUwLTAnKTtcbn1cblxuLyrQpNCj0J3QmtCm0JjQryDQv9C+0LrQsNC30LDRgtGMIC5tZV9faGVhZGVyLXdyYXAqL1xuZnVuY3Rpb24gc2hvd01lSGVhZGVyV3JhcCgpIHtcbiAgbWVIZWFkZXJXcmFwLmNsYXNzTGlzdC5yZW1vdmUoJ21lX19oZWFkZXItd3JhcC0td2lkdGgtNTAtMCcpO1xuICBtZUhlYWRlcldyYXAuY2xhc3NMaXN0LmFkZCgnbWVfX2hlYWRlci13cmFwLS13aWR0aC0wLTUwJyk7XG59XG5cbi8q0KTQo9Cd0JrQptCY0K8g0L/QvtC60LDQt9Cw0YLRjCAubWVfX3dyYXBwZXIqL1xubGV0IG1lV3JhcHBlciA9IG1lLnF1ZXJ5U2VsZWN0b3IoJy5tZV9fd3JhcHBlcicpO1xuZnVuY3Rpb24gc2hvd01lV3JhcHBlcigpIHtcbiAgbWVXcmFwcGVyLmNsYXNzTGlzdC5hZGQoJ21lX193cmFwcGVyLS1zaG93Jyk7IC8v0L/QvtC60LDQt9Cw0YLRjCAubWVfX3dyYXBwZXJcbiAgbWVMaXN0LmNsYXNzTGlzdC5hZGQoJ21lX19saXN0LS1ib3JkZXInKTsgLy8g0LjQt9C80LXQvdC40YLRjCBib3JkZXJcbn07XG5cbi8q0KTQo9Cd0JrQptCY0K8g0YHQutGA0YvRgtGMIC5tZV9fd3JhcHBlciovXG5mdW5jdGlvbiBoaWRlTWVXcmFwcGVyKCkge1xuICBtZVdyYXBwZXIuY2xhc3NMaXN0LnJlbW92ZSgnbWVfX3dyYXBwZXItLXNob3cnKTsgLy/RgdC60YDRi9GC0YwgLm1lX193cmFwcGVyXG4gIG1lTGlzdC5jbGFzc0xpc3QucmVtb3ZlKCdtZV9fbGlzdC0tYm9yZGVyJyk7IC8vINC40LfQvNC10L3QuNGC0YwgYm9yZGVyINCyINC/0LXRgNCy0L7QvdCw0YfQsNC70YzQvdC+0LUg0YHQvtGB0YLQvtGP0L3QuNC1XG59O1xuXG4vKtCk0KPQndCa0KbQmNCvINGD0LTQsNC70LjRgtGMIC5tZV9fbGluay0t0YXRhdGFKi9cbmZ1bmN0aW9uIHJlbW92ZUFjdGl2ZSgpIHtcbiAgbWVMaW5rU2tpbGxzLmNsYXNzTGlzdC5yZW1vdmUoJ21lX19saW5rLS1hY3RpdmUnKTsgLy/Rg9C00LDQu9C40YLRjCAubWVfX2xpbmstLWFjdGl2ZSDQtNC70Y8gU2tpbGxzXG4gIG1lTGlua0NhcmQuY2xhc3NMaXN0LnJlbW92ZSgnbWVfX2xpbmstLWFjdGl2ZScpOyAvL9GD0LTQsNC70LjRgtGMIC5tZV9fbGluay0tYWN0aXZlINC00LvRjyBDYXJkXG4gIG1lTGlua0VkdS5jbGFzc0xpc3QucmVtb3ZlKCdtZV9fbGluay0tYWN0aXZlJyk7IC8v0YPQtNCw0LvQuNGC0YwgLm1lX19saW5rLS1hY3RpdmUg0LTQu9GPIEVkdVxufTtcblxuLyrQpNCj0J3QmtCm0JjQryDQutC70LjQuiDQvdCwIENPTlRBQ1QqL1xuZnVuY3Rpb24gY2xpY2tDb250YWN0SGVhZGVyV3JhcCgpIHtcbiAgaWYgKGNvbnRhY3QuY2xhc3NMaXN0LmNvbnRhaW5zKCdjb250YWN0LS13aWR0aC01MC0xMDAnKSkge1xuICAgIC8vINGD0LzQtdC90YzRiNC40YLRjCDRiNC40YDQuNC90YMgLmNvbnRhY3RcbiAgICBjb250YWN0LmNsYXNzTGlzdC5yZW1vdmUoJ2NvbnRhY3QtLXdpZHRoLTUwLTEwMCcpO1xuICAgIGNvbnRhY3QuY2xhc3NMaXN0LmFkZCgnY29udGFjdC0td2lkdGgtMTAwLTUwJyk7XG4gICAgZnVuY3Rpb24gcmVtb3ZlQ29udGFjdFdpZHRoXzEwMF81MCgpIHtcbiAgICAgIGNvbnRhY3QuY2xhc3NMaXN0LnJlbW92ZSgnY29udGFjdC0td2lkdGgtMTAwLTUwJyk7XG4gICAgfVxuICAgIHNldFRpbWVvdXQocmVtb3ZlQ29udGFjdFdpZHRoXzEwMF81MCwgNDAwKTtcblxuICAgIC8vINGD0LzQtdC90YzRiNC40YLRjCDRiNC40YDQuNC90YMgLmNvbnRhY3RfX2xpc3Qtd3JhcFxuICAgIGNvbnRhY3RMaXN0V3JhcC5jbGFzc0xpc3QucmVtb3ZlKCdjb250YWN0X19saXN0LXdyYXAtLXdpZHRoLTAtNTAnKTtcbiAgICBjb250YWN0TGlzdFdyYXAuY2xhc3NMaXN0LmFkZCgnY29udGFjdF9fbGlzdC13cmFwLS13aWR0aC01MC0wJyk7XG4gICAgZnVuY3Rpb24gcmVtb3ZlQ29udGFjdExpc3RXcmFwXzUwXzAoKSB7XG4gICAgICBjb250YWN0TGlzdFdyYXAuY2xhc3NMaXN0LnJlbW92ZSgnY29udGFjdF9fbGlzdC13cmFwLS13aWR0aC01MC0wJyk7XG4gICAgfVxuICAgIHNldFRpbWVvdXQocmVtb3ZlQ29udGFjdExpc3RXcmFwXzUwXzAsIDQwMCk7XG5cbiAgICAvLyDQuNC30LzQtdC90LjRgtGMICDRgdC+0LTQtdGA0LbQuNC80L7QtSAuY29udGFjdF9faGVhZGVyXG4gICAgYWRkQ29udGFjdFJpZ2h0KCk7XG5cbiAgICAvLyDRg9Cy0LXQu9C40YfQuNGC0Ywg0YjQuNGA0LjQvdGDIC5tZVxuICAgIG1lLmNsYXNzTGlzdC5yZW1vdmUoJ21lLS13aWR0aC01MC0wJylcbiAgICBtZS5zdHlsZS5kaXNwbGF5ID0gXCJcIjtcbiAgICBtZS5jbGFzc0xpc3QuYWRkKCdtZS0td2lkdGgtMC01MCcpO1xuICAgIGZ1bmN0aW9uIHJlbW92ZU1lV2lkdGhfMF81MCgpIHtcbiAgICAgIG1lLmNsYXNzTGlzdC5yZW1vdmUoJ21lLS13aWR0aC0wLTUwJyk7XG4gICAgfVxuICAgIHNldFRpbWVvdXQocmVtb3ZlTWVXaWR0aF8wXzUwLCA0MDApO1xuXG4gICAgLy8g0Lgg0YPQtNCw0LvQuNGC0YwgLmFjdGl2ZVxuICAgIGNvbnRhY3RIZWFkZXJXcmFwLmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpO1xuXG4gIH0gZWxzZSB7XG4gICAgY29udGFjdC5jbGFzc0xpc3QuYWRkKCdjb250YWN0LS13aWR0aC01MC0xMDAnKTtcbiAgICBjb250YWN0TGlzdFdyYXAuY2xhc3NMaXN0LmFkZCgnY29udGFjdF9fbGlzdC13cmFwLS13aWR0aC0wLTUwJyk7XG4gICAgY29udGFjdEhlYWRlcldyYXAuY2xhc3NMaXN0LmFkZCgnYWN0aXZlJyk7XG4gICAgaWYgKGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRXaWR0aCA8IDk2MCkge1xuICAgICAgYWRkQmFja1JpZ2h0KCk7XG4gICAgfTtcblxuICAgIG1lLmNsYXNzTGlzdC5hZGQoJ21lLS13aWR0aC01MC0wJyk7XG4gICAgZnVuY3Rpb24gYWRkTWVEaXNwbGF5Tm9uZSgpIHtcbiAgICAgIG1lLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcbiAgICB9O1xuICAgIHNldFRpbWVvdXQoYWRkTWVEaXNwbGF5Tm9uZSwgNDAwKTtcbiAgfVxufVxuXG4vKtCk0KPQndCa0KbQmNCvINC60LvQuNC6INC90LAgTUUqL1xuZnVuY3Rpb24gY2xpY2tNZUhlYWRlcldyYXAoKSB7XG4gIGlmIChtZS5jbGFzc0xpc3QuY29udGFpbnMoJ21lLS13aWR0aC01MC0xMDAnKSkge1xuICAgIC8v0YPQvNC10L3RjNGI0LjRgtGMINGI0LjRgNC40L3RgyAubWVcbiAgICBtZS5jbGFzc0xpc3QucmVtb3ZlKCdtZS0td2lkdGgtNTAtMTAwJyk7XG4gICAgbWUuY2xhc3NMaXN0LmFkZCgnbWUtLXdpZHRoLTEwMC01MCcpO1xuICAgIGZ1bmN0aW9uIHJlbW92ZU1lV2lkdGhfMTAwXzUwKCkge1xuICAgICAgbWUuY2xhc3NMaXN0LnJlbW92ZSgnbWUtLXdpZHRoLTEwMC01MCcpO1xuICAgIH1cbiAgICBzZXRUaW1lb3V0KHJlbW92ZU1lV2lkdGhfMTAwXzUwLCA0MDApO1xuXG4gICAgLy8g0YPQvNC10L3RjNGI0LjRgtGMINGI0LjRgNC40L3RgyAubWVfX2xpc3Qtd3JhcFxuICAgIG1lTGlzdFdyYXAuY2xhc3NMaXN0LnJlbW92ZSgnbWVfX2xpc3Qtd3JhcC0td2lkdGgtMC01MCcpO1xuICAgIG1lTGlzdFdyYXAuY2xhc3NMaXN0LmFkZCgnbWVfX2xpc3Qtd3JhcC0td2lkdGgtNTAtMCcpO1xuICAgIGZ1bmN0aW9uIHJlbW92ZU1lTGlzdFdyYXBfNTBfMCgpIHtcbiAgICAgIG1lTGlzdFdyYXAuY2xhc3NMaXN0LnJlbW92ZSgnbWVfX2xpc3Qtd3JhcC0td2lkdGgtNTAtMCcpO1xuICAgIH1cbiAgICBzZXRUaW1lb3V0KHJlbW92ZU1lTGlzdFdyYXBfNTBfMCwgNDAwKTtcblxuICAgIC8vINC40LfQvNC10L3QuNGC0YwgINGB0L7QtNC10YDQttC40LzQvtC1IC5jb250YWN0X19oZWFkZXJcbiAgICBhZGRNZUxlZnQoKTtcblxuICAgIC8vINGD0LLQtdC70LjRh9C40YLRjCDRiNC40YDQuNC90YMgLmNvbnRhY3RcbiAgICBjb250YWN0LmNsYXNzTGlzdC5yZW1vdmUoJ2NvbnRhY3QtLXdpZHRoLTUwLTAnKTtcbiAgICBjb250YWN0LnN0eWxlLmRpc3BsYXkgPSBcIlwiO1xuICAgIGNvbnRhY3QuY2xhc3NMaXN0LmFkZCgnY29udGFjdC0td2lkdGgtMC01MCcpO1xuICAgIGZ1bmN0aW9uIHJlbW92ZUNvbnRhY3RXaWR0aF8wXzUwKCkge1xuICAgICAgY29udGFjdC5jbGFzc0xpc3QucmVtb3ZlKCdjb250YWN0LS13aWR0aC0wLTUwJyk7XG4gICAgfVxuICAgIHNldFRpbWVvdXQocmVtb3ZlQ29udGFjdFdpZHRoXzBfNTAsIDQwMCk7XG5cbiAgICAvLyDRg9C00LDQu9C40YLRjCAuYWN0aXZlINC4INC80L7QtNC40YTQuNC60LDRgtC+0YAgJi0td2lkdGgtMC01MFxuICAgIG1lSGVhZGVyV3JhcC5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKTtcbiAgICBtZUhlYWRlcldyYXAuY2xhc3NMaXN0LnJlbW92ZSgnbWVfX2hlYWRlci13cmFwLS13aWR0aC0wLTUwJyk7XG5cbiAgfSBlbHNlIHtcbiAgICBtZS5jbGFzc0xpc3QuYWRkKCdtZS0td2lkdGgtNTAtMTAwJyk7XG4gICAgbWVMaXN0V3JhcC5jbGFzc0xpc3QuYWRkKCdtZV9fbGlzdC13cmFwLS13aWR0aC0wLTUwJyk7XG4gICAgbWVIZWFkZXJXcmFwLmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZScpO1xuICAgIGlmIChkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50V2lkdGggPCA5NjApIHtcbiAgICAgIGFkZEJhY2tsZWZ0KCk7XG4gICAgfTtcblxuICAgIGNvbnRhY3QuY2xhc3NMaXN0LmFkZCgnY29udGFjdC0td2lkdGgtNTAtMCcpO1xuICAgIGZ1bmN0aW9uIGFkZENvbnRhY3REaXNwbGF5Tm9uZSgpIHtcbiAgICAgIGNvbnRhY3Quc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xuICAgIH07XG4gICAgc2V0VGltZW91dChhZGRDb250YWN0RGlzcGxheU5vbmUsIDQwMCk7XG4gIH1cbn1cblxuLyoqPT09PT09PT09PT09PT09PT09PT09PT0gKi9cbi8qPT090KHQntCR0KvQotCY0JUgLSDQutC70LjQuiDQvdCwIENPTlRBQ1QgKC5jb250YWN0X19oZWFkZXItd3JhcCkqL1xuY29udGFjdEhlYWRlcldyYXAuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbiAoKSB7XG4gIGNsaWNrQ29udGFjdEhlYWRlcldyYXAoKTtcbn0pO1xuXG5jb250YWN0SGVhZGVyV3JhcC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZW92ZXInLCBmdW5jdGlvbiAoKSB7XG4gIGlmICh0aGlzLmNsYXNzTGlzdC5jb250YWlucygnYWN0aXZlJykpIHtcbiAgICBhZGRCYWNrUmlnaHQoKTtcbiAgfSBlbHNlIHtcbiAgICBhZGRDb250YWN0UmlnaHQoKTtcbiAgfVxufSk7XG5cbmNvbnRhY3RIZWFkZXJXcmFwLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlb3V0JywgZnVuY3Rpb24gKCkge1xuICBpZiAodGhpcy5jbGFzc0xpc3QuY29udGFpbnMoJ2FjdGl2ZScpKSB7XG4gICAgYWRkQ29udGFjdFJpZ2h0KCk7XG4gIH1cbn0pO1xuXG4vKio9PT09PT09PT09PT09PT09PT09PT09PSAqL1xuLyo9PT3QodCe0JHQq9Ci0JjQlSAtINC60LvQuNC6INC90LAgTUUqL1xubWVIZWFkZXJXcmFwLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xuICBjbGlja01lSGVhZGVyV3JhcCgpO1xufSk7XG5cbm1lSGVhZGVyV3JhcC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZW92ZXInLCBmdW5jdGlvbiAoKSB7XG4gIGlmICh0aGlzLmNsYXNzTGlzdC5jb250YWlucygnYWN0aXZlJykpIHtcbiAgICBhZGRCYWNrbGVmdCgpO1xuICB9IGVsc2Uge1xuICAgIGFkZE1lTGVmdCgpO1xuICB9XG59KTtcblxubWVIZWFkZXJXcmFwLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlb3V0JywgZnVuY3Rpb24gKCkge1xuICBpZiAodGhpcy5jbGFzc0xpc3QuY29udGFpbnMoJ2FjdGl2ZScpKSB7XG4gICAgYWRkTWVMZWZ0KCk7XG4gIH1cbn0pO1xuXG5cbi8qKj09PT09PT09PT09PT09PT09PT09PT09ICovXG4vKj09PdCh0J7QkdCr0KLQmNCVIC0g0LrQu9C40Log0L3QsCAubWVfX2xpbmstLXNraWxscyovXG5sZXQgbWVMaW5rU2tpbGxzID0gbWVMaXN0LnF1ZXJ5U2VsZWN0b3IoJy5tZV9fbGluay0tc2tpbGxzJyk7XG5cbm1lTGlua1NraWxscy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcbiAgaWYgKHRoaXMuaW5uZXJIVE1MID09PSAnQkFDSycpIHtcbiAgICBoaWRlTWVXcmFwcGVyKCk7XG4gICAgc2hvd01lSGVhZGVyV3JhcCgpO1xuICAgIHRoaXMuY2xhc3NMaXN0LnJlbW92ZSgnbWVfX2xpbmstLWFjdGl2ZScpOyAvL9GD0LTQsNC70LjRgtGMIC5tZV9fbGluay0tYWN0aXZlXG4gICAgdGhpcy5pbm5lckhUTUwgPSAnU0tJTExTJzsgLy/QuNC30LzQtdC90LjRgtGMIEJBQ0sg0L3QsCBTS0lMTFNcbiAgfSBlbHNlIHtcbiAgICBoaWRlTWVIZWFkZXJXcmFwKCk7XG4gICAgc2hvd01lV3JhcHBlcigpO1xuXG4gICAgcmVtb3ZlQWN0aXZlKCk7XG4gICAgdGhpcy5jbGFzc0xpc3QuYWRkKCdtZV9fbGluay0tYWN0aXZlJyk7IC8v0LTQvtCx0LDQstC40YLRjCAubWVfX2xpbmstLWFjdGl2ZVxuXG4gICAgLy/QtNC70Y8gJG1vYi13aWR0aCDQuNC30LzQtdC90LjRgtGMINGB0L7QtNC10YDQttC40LzQvtC1INC90LAgQkFDS1xuICAgIGlmIChkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50V2lkdGggPCA5NjApIHtcbiAgICAgIGFkZEJhY2sodGhpcyk7XG4gICAgfVxuICB9XG59KTtcblxuLy/QuNC30LzQtdC90LjRgtGMINGB0L7QtNC10YDQttC40LzQvtC1INC90LAgQkFDS1xubWVMaW5rU2tpbGxzLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlb3ZlcicsIGZ1bmN0aW9uICgpIHtcbiAgaWYgKHRoaXMuY2xhc3NMaXN0LmNvbnRhaW5zKCdtZV9fbGluay0tYWN0aXZlJykgPT09IHRydWUpIHtcbiAgICB0aGlzLmlubmVySFRNTCA9IFwiQkFDS1wiO1xuICB9XG59KTtcblxuLy/QuNC30LzQtdC90LjRgtGMINGB0L7QtNC10YDQttC40LzQvtC1INC90LAgU0tJTExTXG5tZUxpbmtTa2lsbHMuYWRkRXZlbnRMaXN0ZW5lcignbW91c2VvdXQnLCBmdW5jdGlvbiAoKSB7XG4gIGlmICh0aGlzLmNsYXNzTGlzdC5jb250YWlucygnbWVfX2xpbmstLWFjdGl2ZScpID09PSB0cnVlKSB7XG4gICAgdGhpcy5pbm5lckhUTUwgPSBcIlNLSUxMU1wiO1xuICB9XG59KTtcblxuLyoqPT09PT09PT09PT09PT09PT09PT09PT0gKi9cbi8qPT090LrQu9C40Log0L3QsCAubWVfX2xpbmstLWNhcmQtbGlzdCovXG5sZXQgbWVMaW5rQ2FyZCA9IG1lTGlzdC5xdWVyeVNlbGVjdG9yKCcubWVfX2xpbmstLWNhcmQtbGlzdCcpO1xuXG5tZUxpbmtDYXJkLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xuICBpZiAodGhpcy5pbm5lckhUTUwgPT09ICdCQUNLJykge1xuICAgIGhpZGVNZVdyYXBwZXIoKTtcbiAgICBzaG93TWVIZWFkZXJXcmFwKCk7XG4gICAgdGhpcy5jbGFzc0xpc3QucmVtb3ZlKCdtZV9fbGluay0tYWN0aXZlJyk7IC8v0YPQtNCw0LvQuNGC0YwgLm1lX19saW5rLS1hY3RpdmVcbiAgICB0aGlzLmlubmVySFRNTCA9ICdXT1JLJzsgLy/QuNC30LzQtdC90LjRgtGMIEJBQ0sg0L3QsCBXb3JrXG4gIH0gZWxzZSB7XG4gICAgaGlkZU1lSGVhZGVyV3JhcCgpO1xuICAgIHNob3dNZVdyYXBwZXIoKTtcblxuICAgIHJlbW92ZUFjdGl2ZSgpO1xuICAgIHRoaXMuY2xhc3NMaXN0LmFkZCgnbWVfX2xpbmstLWFjdGl2ZScpOyAvL9C00L7QsdCw0LLQuNGC0YwgLm1lX19saW5rLS1hY3RpdmVcblxuICAgIC8v0LTQu9GPICRtb2Itd2lkdGgg0LjQt9C80LXQvdC40YLRjCDRgdC+0LTQtdGA0LbQuNC80L7QtSDQvdCwIEJBQ0tcbiAgICBpZiAoZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudFdpZHRoIDwgOTYwKSB7XG4gICAgICBhZGRCYWNrKHRoaXMpO1xuICAgIH1cbiAgfVxufSk7XG5cbi8v0LjQt9C80LXQvdC40YLRjCDRgdC+0LTQtdGA0LbQuNC80L7QtSDQvdCwIEJBQ0tcbm1lTGlua0NhcmQuYWRkRXZlbnRMaXN0ZW5lcignbW91c2VvdmVyJywgZnVuY3Rpb24gKCkge1xuICBpZiAodGhpcy5jbGFzc0xpc3QuY29udGFpbnMoJ21lX19saW5rLS1hY3RpdmUnKSA9PT0gdHJ1ZSkge1xuICAgIHRoaXMuaW5uZXJIVE1MID0gXCJCQUNLXCI7XG4gIH1cbn0pO1xuXG4vL9C40LfQvNC10L3QuNGC0Ywg0YHQvtC00LXRgNC20LjQvNC+0LUg0L3QsCBQT1JURklMSU9cbm1lTGlua0NhcmQuYWRkRXZlbnRMaXN0ZW5lcignbW91c2VvdXQnLCBmdW5jdGlvbiAoKSB7XG4gIGlmICh0aGlzLmNsYXNzTGlzdC5jb250YWlucygnbWVfX2xpbmstLWFjdGl2ZScpID09PSB0cnVlKSB7XG4gICAgdGhpcy5pbm5lckhUTUwgPSBcIldPUktcIjtcbiAgfVxufSk7XG5cbi8qKj09PT09PT09PT09PT09PT09PT09PT09ICovXG4vKj09PdC60LvQuNC6INC90LAgLm1lX19saW5rLS1lZHUqL1xubGV0IG1lTGlua0VkdSA9IG1lTGlzdC5xdWVyeVNlbGVjdG9yKCcubWVfX2xpbmstLWVkdScpO1xuXG5tZUxpbmtFZHUuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbiAoKSB7XG4gIGlmICh0aGlzLmlubmVySFRNTCA9PT0gJ0JBQ0snKSB7XG4gICAgaGlkZU1lV3JhcHBlcigpO1xuICAgIHNob3dNZUhlYWRlcldyYXAoKTtcbiAgICB0aGlzLmNsYXNzTGlzdC5yZW1vdmUoJ21lX19saW5rLS1hY3RpdmUnKTsgLy/Rg9C00LDQu9C40YLRjCAubWVfX2xpbmstLWFjdGl2ZVxuICAgIHRoaXMuaW5uZXJIVE1MID0gJ0VkdWNhdGlvbic7IC8v0LjQt9C80LXQvdC40YLRjCBCQUNLINC90LAgRWR1Y2F0aW9uXG4gIH0gZWxzZSB7XG4gICAgaGlkZU1lSGVhZGVyV3JhcCgpO1xuICAgIHNob3dNZVdyYXBwZXIoKTtcblxuICAgIHJlbW92ZUFjdGl2ZSgpO1xuICAgIHRoaXMuY2xhc3NMaXN0LmFkZCgnbWVfX2xpbmstLWFjdGl2ZScpOyAvL9C00L7QsdCw0LLQuNGC0YwgLm1lX19saW5rLS1hY3RpdmVcblxuICAgLy/QtNC70Y8gJG1vYi13aWR0aCDQuNC30LzQtdC90LjRgtGMINGB0L7QtNC10YDQttC40LzQvtC1INC90LAgQkFDS1xuICAgaWYgKGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRXaWR0aCA8IDk2MCkge1xuICAgIGFkZEJhY2sodGhpcyk7XG4gIH1cbiAgfVxufSk7XG5cbi8v0LjQt9C80LXQvdC40YLRjCDRgdC+0LTQtdGA0LbQuNC80L7QtSDQvdCwIEJBQ0tcbm1lTGlua0VkdS5hZGRFdmVudExpc3RlbmVyKCdtb3VzZW92ZXInLCBmdW5jdGlvbiAoKSB7XG4gIGlmICh0aGlzLmNsYXNzTGlzdC5jb250YWlucygnbWVfX2xpbmstLWFjdGl2ZScpID09PSB0cnVlKSB7XG4gICAgdGhpcy5pbm5lckhUTUwgPSBcIkJBQ0tcIjtcbiAgfVxufSk7XG5cbi8v0LjQt9C80LXQvdC40YLRjCDRgdC+0LTQtdGA0LbQuNC80L7QtSDQvdCwIEVEVUNBVElPTlxubWVMaW5rRWR1LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlb3V0JywgZnVuY3Rpb24gKCkge1xuICBpZiAodGhpcy5jbGFzc0xpc3QuY29udGFpbnMoJ21lX19saW5rLS1hY3RpdmUnKSA9PT0gdHJ1ZSkge1xuICAgIHRoaXMuaW5uZXJIVE1MID0gXCJFRFVDQVRJT05cIjtcbiAgfVxufSk7XG5cbiJdfQ==
